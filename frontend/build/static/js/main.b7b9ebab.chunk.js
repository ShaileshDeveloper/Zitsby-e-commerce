(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{104:function(e,t,c){},105:function(e,t,c){"use strict";c.r(t);var r=c(0),a=c.n(r),n=c(18),s=c.n(n),i=(c(74),c(75),c(111)),o=c(67),l=c(116),j=c(1);var d=function(e){var t=e.value,c=e.text,r=e.color;return Object(j.jsxs)("div",{className:"rating",children:[Object(j.jsx)("span",{children:Object(j.jsx)("i",{style:{color:r},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(j.jsx)("span",{children:Object(j.jsx)("i",{style:{color:r},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(j.jsx)("span",{children:Object(j.jsx)("i",{style:{color:r},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(j.jsx)("span",{children:Object(j.jsx)("i",{style:{color:r},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(j.jsx)("span",{children:Object(j.jsx)("i",{style:{color:r},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(j.jsxs)("span",{children:[c&&c," ",Object(j.jsx)("span",{children:" reviews"})]})]})},u=c(12);var b=function(e){var t=e.product;return Object(j.jsx)("div",{children:Object(j.jsxs)(l.a,{className:"my-3 p-2 rounded",children:[Object(j.jsx)(u.Link,{to:"/products/".concat(t._id),children:Object(j.jsx)(l.a.Img,{src:t.image,variant:"top"})}),Object(j.jsx)(l.a.Body,{children:Object(j.jsxs)("a",{href:"/products/".concat(t._id),children:[Object(j.jsx)(l.a.Title,{as:"div",children:Object(j.jsx)("strong",{children:t.name})}),Object(j.jsx)(l.a.Text,{className:"py-3",as:"div",children:Object(j.jsx)(d,{value:t.rating,text:t.numReviews,color:"gold"})}),Object(j.jsxs)(l.a.Text,{as:"div",children:["Rs ",t.price]})]})})]})})},h=c(114),O=c(110),p=c(117),x=c(113),f=c(37),m=c(8),g=c(16),v=c.n(g),S=c(24),I=c(19),y=c.n(I);var E=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.userLogin})).userInfo;return Object(j.jsx)("div",{children:Object(j.jsx)(h.a,{bg:"dark",variant:"dark",expand:"lg",children:Object(j.jsxs)(O.a,{children:[Object(j.jsx)(f.LinkContainer,{to:"/",children:Object(j.jsx)(h.a.Brand,{children:"ZITSBY E COMMERCE"})}),Object(j.jsx)(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(j.jsx)(h.a.Collapse,{id:"basic-navbar-nav",children:Object(j.jsxs)(p.a,{className:"ml-auto",children:[Object(j.jsx)(f.LinkContainer,{to:"/cart",children:Object(j.jsx)(p.a.Link,{children:Object(j.jsx)("i",{className:"fas fa-shopping-cart",children:"Cart"})})}),t?Object(j.jsxs)(x.a,{title:t.name,id:"username",children:[Object(j.jsx)(f.LinkContainer,{to:"/profile",children:Object(j.jsx)(x.a.Item,{children:"Profile"})}),Object(j.jsx)(x.a.Item,{onClick:function(){e((function(e){localStorage.removeItem("userInfo"),e({type:"USER_LOGOUT"})}))},children:"Logout"})]}):Object(j.jsx)(f.LinkContainer,{to:"/login",children:Object(j.jsx)(p.a.Link,{href:"/signin",children:Object(j.jsx)("i",{className:"fas fa-user",children:"Sign in"})})})]})})]})})})};var C=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("footer",{children:Object(j.jsx)(O.a,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(o.a,{className:"text-center py-3",children:" @copyright \xa9 Shailesh"})})})})})};var _=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.productList})),c=t.loading,a=t.error,n=t.products;return Object(r.useEffect)((function(){e(function(){var e=Object(S.a)(v.a.mark((function e(t){var c,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_LIST_REQUEST"}),e.next=4,y.a.get("https://zitsby-e-commerce-backend.shaileshweb.repl.co/products");case 4:c=e.sent,r=c.data,t({type:"PRODUCT_LIST_SUCCESS",payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"PRODUCT_LIST_FAIL",payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(j.jsxs)("div",{children:[Object(j.jsx)(E,{}),Object(j.jsx)(O.a,{children:c?Object(j.jsx)("h1",{children:"Loading ..."}):a?Object(j.jsx)("h3",{children:"error"}):Object(j.jsx)(i.a,{children:n.map((function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(o.a,{sm:12,md:6,lg:4,xl:3,children:Object(j.jsx)(b,{product:e})},e._id)})}))})}),Object(j.jsx)(C,{})]})},R=c(31),T=c(17),L=c(112),U=c(118),k=c(115),w=c(66);var N=function(e){var t=e.history,c=e.match,a=Object(r.useState)(1),n=Object(T.a)(a,2),s=n[0],l=n[1],b=Object(m.b)(),h=Object(m.c)((function(e){return e.productDetails})),p=h.loading,x=h.products,f=h.error;return Object(r.useEffect)((function(){var e;b((e=c.params.id,function(){var t=Object(S.a)(v.a.mark((function t(c){var r,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:"PRODUCT_DETAILS_REQUEST"}),t.next=4,y.a.get("https://zitsby-e-commerce-backend.shaileshweb.repl.co/products/".concat(e));case 4:r=t.sent,a=r.data,c({type:"PRODUCT_DETAILS_SUCCESS",payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:"PRODUCT_DETAILS_FAIL",payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[b]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u.Link,{className:"btn btn-light my-3",to:"/",children:"Go Back"}),p?Object(j.jsx)("h3",{children:"Loading"}):f?Object(j.jsx)("h4",{children:"error"}):Object(j.jsx)(O.a,{children:Object(j.jsxs)(i.a,{children:[Object(j.jsx)(o.a,{md:6,children:Object(j.jsx)(O.a,{children:Object(j.jsx)(L.a,{src:x.image,alt:x.name,fluid:!0})})}),Object(j.jsx)(o.a,{md:3,children:Object(j.jsxs)(U.a,{variant:"flush",children:[Object(j.jsx)(U.a.Item,{children:Object(j.jsx)("h3",{children:x.name})}),Object(j.jsx)(U.a.Item,{children:Object(j.jsx)(d,{value:x.rating,text:" ".concat(x.numReviews)})}),Object(j.jsx)(U.a.Item,{children:x.description})]})}),Object(j.jsx)(o.a,{md:3,children:Object(j.jsxs)(U.a,{variant:"flush",children:[Object(j.jsx)(U.a.Item,{children:Object(j.jsxs)("h3",{children:["Rs ",x.price]})}),Object(j.jsx)(U.a.Item,{children:x.countInStock>0?"In Stock":"Out of stock"}),x.countInStock>0&&Object(j.jsx)(U.a.Item,{children:Object(j.jsxs)(i.a,{children:[Object(j.jsx)(o.a,{children:"Qty"}),Object(j.jsx)(o.a,{children:Object(j.jsx)(k.a.Control,{as:"select",value:s,onChange:function(e){return l(e.target.value)},children:Object(R.a)(Array(x.countInStock).keys()).map((function(e){return Object(j.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(j.jsx)(U.a.Item,{children:Object(j.jsx)(w.a,{onClick:function(){t.push("/cart/".concat(c.params.id,"?qty=").concat(s))},className:"btn-block",type:"button",disabled:0===x.countInStock,children:"Add to cart"})})]})})]})})]})},D=function(e,t){return function(){var c=Object(S.a)(v.a.mark((function c(r,a){var n,s;return v.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,y.a.get("https://zitsby-e-commerce-backend.shaileshweb.repl.co/products/".concat(e));case 2:n=c.sent,s=n.data,console.log(s,"shailesh"),r({type:"CART_ADD_ITEM",payload:{product:s._id,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 7:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()};var A=function(e){var t=e.match,c=e.location,a=(e.history,t.params.id),n=c.search?Number(c.search.split("=")[1]):1;console.log(n);var s=Object(m.c)((function(e){return e.userLogin})).userInfo,d=Object(m.b)(),b=Object(m.c)((function(e){return e.cart})).cartItems;function h(e){d(function(e){return function(t,c){t({type:"CART_REMOVE_ITEM",payload:e}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems))}}(e))}return console.log(b),Object(r.useEffect)((function(){a&&d(D(a,n))}),[d,a,n]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(i.a,{children:[Object(j.jsxs)(o.a,{md:8,children:[Object(j.jsx)(U.a,{variant:"flush",children:Object(j.jsx)(U.a.Item,{children:Object(j.jsx)("h1",{children:"shopping cart"})})}),0===b.length?Object(j.jsx)("h1",{children:"cart empty"}):Object(j.jsx)(U.a,{children:b.map((function(e){return Object(j.jsx)(U.a.Item,{children:Object(j.jsxs)(i.a,{children:[Object(j.jsx)(o.a,{md:2,children:Object(j.jsx)(L.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(j.jsx)(o.a,{md:3,children:Object(j.jsx)(u.Link,{to:"/products/".concat(e.product),children:e.name})}),Object(j.jsx)(o.a,{md:2,children:e.price}),Object(j.jsx)(o.a,{md:2,children:Object(j.jsx)(k.a.Control,{as:"select",value:e.qty,onChange:function(t){return d(D(e.product,Number(t.target.value)))},children:Object(R.a)(Array(e.countInStock).keys()).map((function(e){return Object(j.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(j.jsx)(o.a,{md:2,children:Object(j.jsx)(w.a,{type:"button",variant:"light",onClick:function(){return h(e.product)},children:Object(j.jsx)("i",{className:" fas fa-trash"})})})]})},e.product)}))})]}),Object(j.jsx)(o.a,{md:4,className:"subtotal_cart",children:Object(j.jsx)(l.a,{children:Object(j.jsxs)(U.a,{children:[Object(j.jsx)(U.a.Item,{children:Object(j.jsxs)("h2",{children:["SubTotal (",b.reduce((function(e,t){return e+t.qty}),0),")"]})}),Object(j.jsxs)(U.a.Item,{children:["TotalPrice: (",b.reduce((function(e,t){return e+t.qty*t.price}),0),")"]}),s?Object(j.jsx)(w.a,{children:"PROCEED TO CHECKOUT"}):Object(j.jsx)(u.NavLink,{to:"/login",children:Object(j.jsx)(w.a,{className:"btn-block",children:"PROCEED TO CHECKOUT"})})]})})})]})})};var P=function(e){var t=e.children;return Object(j.jsx)(O.a,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(o.a,{xs:12,md:6,children:t})})})};var G=function(e){var t=e.location,c=e.history,a=Object(r.useState)(""),n=Object(T.a)(a,2),s=n[0],l=n[1],d=Object(r.useState)(""),b=Object(T.a)(d,2),h=b[0],p=b[1],x=Object(m.b)(),f=Object(m.c)((function(e){return e.userLogin})),g=f.loading,I=f.error,E=f.userInfo,C=t.search?t.search.split("=")[1]:"/";return Object(r.useEffect)((function(){E&&c.push(C)}),[c,E,C]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(O.a,{className:"register_screen",children:Object(j.jsxs)(P,{children:[Object(j.jsx)("h1",{children:"Signin"}),I&&Object(j.jsx)("h1",{children:"Error hai"}),g&&Object(j.jsx)("h1",{children:"loadier"}),Object(j.jsxs)(k.a,{onSubmit:function(e){e.preventDefault(),x(function(e,t){return function(){var c=Object(S.a)(v.a.mark((function c(r){var a,n,s;return v.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r({type:"USER_LOGIN_REQUEST"}),a={headers:{"content-type":"application/json"}},c.next=5,y.a.post("/users/login",{email:e,password:t},a);case 5:n=c.sent,s=n.data,r({type:"USER_LOGIN_SUCCESS",payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),r({type:"USER_LOGIN_FAIL",payload:c.t0});case 14:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e){return c.apply(this,arguments)}}()}(s,h))},children:[Object(j.jsxs)(k.a.Group,{controlId:"email",children:[Object(j.jsx)(k.a.Label,{children:"Email Address"}),Object(j.jsx)(k.a.Control,{type:"email",placeholder:"Enter email",value:s,onChange:function(e){return l(e.target.value)}})]}),Object(j.jsxs)(k.a.Group,{controlId:"password",children:[Object(j.jsx)(k.a.Label,{children:"Password"}),Object(j.jsx)(k.a.Control,{type:"password",placeholder:"Enter password",value:h,onChange:function(e){return p(e.target.value)}})]}),Object(j.jsx)(w.a,{type:"submit",variant:"primary",children:"Sign in"})]}),Object(j.jsx)(i.a,{className:"py-3",children:Object(j.jsxs)(o.a,{children:["New Customer?"," ",Object(j.jsx)(u.Link,{to:C?"/register?redirect=".concat(C):"/register",children:"Register"})]})})]})})})};var F=function(e){var t=e.location,c=e.history,a=Object(r.useState)(""),n=Object(T.a)(a,2),s=n[0],l=n[1],d=Object(r.useState)(""),b=Object(T.a)(d,2),h=b[0],p=b[1],x=Object(r.useState)(""),f=Object(T.a)(x,2),g=f[0],I=f[1],E=Object(r.useState)(""),C=Object(T.a)(E,2),_=C[0],R=C[1],L=Object(r.useState)(null),U=Object(T.a)(L,2),N=U[0],D=U[1],A=Object(m.b)(),G=Object(m.c)((function(e){return e.userRegister})),F=G.loading,M=G.error,Q=G.userInfo,J=t.search?t.search.split("=")[1]:"/";return Object(r.useEffect)((function(){Q&&c.push(J)}),[c,Q,J]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(O.a,{className:"register_screen",children:Object(j.jsxs)(P,{children:[Object(j.jsx)("h1",{children:"Sign UP"}),N&&Object(j.jsx)("h6",{children:"Password dont match"}),M&&Object(j.jsx)("h1",{children:"Error hai"}),F&&Object(j.jsx)("h1",{children:"loadier"}),Object(j.jsxs)(k.a,{onSubmit:function(e){e.preventDefault(),g!==_?D("password doesntmatch"):A(function(e,t,c){return function(){var r=Object(S.a)(v.a.mark((function r(a){var n,s,i;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:"USER_REGISTER_REQUEST"}),n={headers:{"content-type":"application/json"}},r.next=5,y.a.post("/users",{name:e,email:t,password:c},n);case 5:s=r.sent,i=s.data,a({type:"USER_REGISTER_SUCCESS",payload:i}),a({type:"USER_LOGIN_SUCCESS",payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),a({type:"USER_REGISTER_FAIL",payload:r.t0});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}()}(h,s,g))},children:[Object(j.jsxs)(k.a.Group,{controlId:"name",children:[Object(j.jsx)(k.a.Label,{children:"Name"}),Object(j.jsx)(k.a.Control,{type:"name",placeholder:"Enter name",value:h,onChange:function(e){return p(e.target.value)}})]}),Object(j.jsxs)(k.a.Group,{controlId:"email",children:[Object(j.jsx)(k.a.Label,{children:"Email Address"}),Object(j.jsx)(k.a.Control,{type:"email",placeholder:"Enter email",value:s,onChange:function(e){return l(e.target.value)}})]}),Object(j.jsxs)(k.a.Group,{controlId:"password",children:[Object(j.jsx)(k.a.Label,{children:"Password"}),Object(j.jsx)(k.a.Control,{type:"password",placeholder:"Enter password",value:g,onChange:function(e){return I(e.target.value)}})]}),Object(j.jsxs)(k.a.Group,{controlId:"confirmPassword",children:[Object(j.jsx)(k.a.Label,{children:"Confirm Password"}),Object(j.jsx)(k.a.Control,{type:"password",placeholder:"Enter password",value:_,onChange:function(e){return R(e.target.value)}})]}),Object(j.jsx)(w.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(j.jsx)(i.a,{className:"py-3",children:Object(j.jsxs)(o.a,{children:["HAve an account?"," ",Object(j.jsx)(u.Link,{to:J?"/login?redirect=".concat(J):"/login",children:"Login"})]})})]})})})},M=(c(104),c(7));var Q=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(M.d,{path:"/",component:_,exact:!0}),Object(j.jsx)(M.d,{path:"/products/:id",component:N}),Object(j.jsx)(M.d,{path:"/login",component:G}),Object(j.jsx)(M.d,{path:"/register",component:F}),Object(j.jsx)(M.d,{path:"/cart/:id?",component:A})]})},J=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,119)).then((function(t){var c=t.getCLS,r=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),r(e),a(e),n(e),s(e)}))},B=c(36),q=c(68),z=c(69),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUEST":return{loading:!0,products:[]};case"PRODUCT_LIST_SUCCESS":return{loading:!1,products:t.payload};case"PRODUCT_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},K=c(28),V=Object(B.combineReducers)({productList:H,productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUEST":return{loading:!0,products:[]};case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,products:t.payload};case"PRODUCT_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_ADD_ITEM":var c=t.payload,r=e.cartItems.find((function(e){return e.product===c.product}));return r?Object(K.a)(Object(K.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===r.product?c:e}))}):Object(K.a)(Object(K.a)({},e),{},{cartItems:[].concat(Object(R.a)(e.cartItems),[c])});case"CART_REMOVE_ITEM":return Object(K.a)(Object(K.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return{loading:!0};case"USER_LOGIN_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_LOGIN_FAIL":return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_REGISTER_FAIL":return{loading:!1,error:t.payload};default:return e}}}),W={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]},userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},Y=[q.a],Z=Object(B.createStore)(V,W,Object(z.composeWithDevTools)(B.applyMiddleware.apply(void 0,Y)));s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(m.a,{store:Z,children:Object(j.jsx)(u.BrowserRouter,{children:Object(j.jsx)(Q,{})})})}),document.getElementById("root")),J()},74:function(e,t,c){},75:function(e,t,c){}},[[105,1,2]]]);
//# sourceMappingURL=main.b7b9ebab.chunk.js.map